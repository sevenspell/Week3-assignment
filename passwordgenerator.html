<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- My own CSS-->
        <link rel="stylesheet" type="text/css" href="./style.css">

        <title>Rp's Password Generator</title>
    </head>
    <body>

        <!-- Header -->
        <div class="page-header">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-sm-6 offset-sm-4 col-md-6 offset-md-4" id="ritapang">
                            <p class="h1">Password Generator</p>
                    </div>
                </div>
            </div>
        </div>
        

        <!-- Form Container -->
        <div class="container" id="passwordform">
            <div class="row">
                <div class="col-sm-8">
                    <h2 id="pwhead">Generate a Password</h2>
                </div>
            </div>
            <hr id="linebreak">
            <div class="row justify-content-center">
                <div class="col-sm-12">
                    <div class="form-group" id="securepasswordarea">
                            <textbox class="form-control" id="securepassword" placeholder="Your Secure Password">Your Secure Password</textbox>
                    </div>
                </div>
            </div>

            <hr id="linebreak">

            <div class="row justify-content-left">
                <div class="col-sm-8">
                    <form class="form-group">
                        <button class="btn btn-rita1 my-2 my-sm-0" type="submit" id="generate" onclick="generatePW()">Generate Password</button>
                        <button class="btn btn-rita2 my-2 my-sm-0" type="submit" id="copy" onclick="copyToClipboard()">Copy to Clipboard</button>
                    </form>
                </div>  
            </div>
        </div>


        <!-- Javascript Pseudocode-->    
        
        <script>
    // 1. prep
            //arrays
            //specialChar = ["!","@","#","$","%","^","&","*","(",")","~","<",">","?","/",",",".",";",":","'","{","}","[","]","-","_","+","="];
            //numericChar = ["1","2","3","4","5","6","7","8","9","0"];
            //upperCase = ["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];
            //lowerCase = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];

            // variables
            var specialChar = "~!@#$%^&*()_+=-`{}|\][:';<>?/.,";
            var numericChar = "1234567890";
            var upperCase = "QWERTYUIOPLKJHGFDSAZXCVBNM";
            var lowerCase = "qwertyuioplkjhgfdsazxcvbnm";
            var plength="";
            var userPassword="";
            var passwordCharSet="";

            var copyButton = document.querySelector("#copy");
            var generateButton = document.querySelector("#generate");
            passwordField = document.getElementById("#securepassword");
            var invalidValueText = confirm(string!== "y" || string!== "n");
            var invalidValueNum = function validateNumber(){
                if (plength<8){return true}
                else if (plength>20){return true}
                else {return false};
            }

    // 2. Upon clicking on Generate Password button:

            function generatePW() {
                //prompt for userinput
                while (invalidValueNum="true"){
                var howManyChar = prompt("How many characters do you want in your password? Min. 8 and Max. 20");
                plength = parseInt(howManyChar.value);
                    if (invalidValueNum="true"){
                        alert("Invalid input. Please input correct value.");
                    }
                    else {
                        plength = number(howManyChar.value);
                    }
                 }

                while (invalidValueText = "true"){
                var specialCharYN = prompt("Do you want special characters in your password? Input 'y' for yes and 'n' for no.");
                if (invalidValueText = "true"){
                    alert("Invalid input. Please input correct value.");
                    }
                if (invalidValueText = "false"){
                    
                    }
                 }

                while (invalidValueText = "true"){
                var numCharYN = prompt("Do you want numeric characters in your password? Input 'y' for yes and 'n' for no.");
                if (invalidValueText = "true"){
                    alert("Invalid input. Please input correct value.");
                    }
                }

                while (invalidValueText = "true"){
                var upperCaseYN = prompt("Do you want uppercase characters in your password? Input 'y' for yes and 'n' for no."); 
                if (invalidValueText = "true"){
                    alert("Invalid input. Please input correct value.");
                    }
                 }

                while (invalidValueText = "true"){
                var lowerCaseYN = prompt("Do you want lowercase characters in your password? Input 'y' for yes and 'n' for no.");
                if (invalidValueText = "true"){
                    alert("Invalid input. Please input correct value.");
                    }
                }
            

                //define password properties
                
                if (specialCharYN === "y"){
                    passwordCharSet += specialChar;
                }
                if (numCharYN === "y"){
                    passwordCharSet += numericChar;
                }
                if (upperCaseYN === "y"){
                    passwordCharSet += upperCase;
                }
                if (lowerCaseYN === "y"){
                    passwordCharSet += lowerCase;
                }
                
                //randomly generate password based on logged answers
                plength = Number(howManyChar.value);
                
                for (i=0; i<plength; i++){
                    userPassword = passwordCharSet.charAt(
                        Math.floor(Math.random() * plength.value));
                };
                
                //write password to page
                //return userPassword;
                passwordField.innerHTML = userPassword;
                
                
                
            }

    // 15. Allow user to copy to clipboard

            function copyToClipboard(){
                var copyButton = generatePW.value;
                copyButton.select();
                document.execCommand("copy");
                alert("Copied to clipboard");
            }



        </script>

    </body>

</html>